---
title: "Week 4"
output: rmarkdown::github_document
---

# Table of Contents

- **The str Function**

- **Simulation**
  - Generating Random Numbers
  - Simulating a Linear Model
  - Random Sampling
  
- **R Profiler**
  - Part 1
  - Part 2
  
- **Quiz**

- **Programming Assignment**

- **Key Takeaway Functions**

# The str Function  

`str()`: Compactly display the internal "structure" of an R object

- A diagnostic function and an alternative to `summary`
- It is especially well suited to compactly display the (abbreviated) contents of (possibly nested) lists
- Roughly one line per basic object

**What's in this object?**  

```{r}
str(str)
```
It is a function that takes any object  

**Function**
```{r}
str(lm)
str(ls)
```

**Vector**
```{r}
x <- rnorm(100, 2, 4)
summary(x)
str(x)
```

**Factor**
```{r}
f <- gl(40, 10)
f

str(f)
summary(f) # displays the number of elements in each level
```

**Data Frame**
```{r}
library(datasets)
head(airquality)
summary(airquality)
str(airquality)
```

**Matrix**
```{r}
m <- matrix(rnorm(100), 10, 10)
str(m) # Matrix is a two-dimensional array
m[, 1]
```

**List**
```{r}
s <- split(airquality, airquality$Month)
str(s)
```

# Simulation  

## Generating Random Numbers  

Functions for *probability distributions* in R  

- `rnorm`: generate "**r**andom **norm**al" variates with a given *mean* and *standard deviation*
- `dnorm`: evaluate the "**norm**al probability **d**ensity" (with a given mean/SD) at a point (or vector of points)
- `pnorm`: evaluate the "**cumulative** distribution function" for a **norm**al distribution
- `rpois`: generate **r**andom **pois**son variates with a given rate

*Probability distribution functions* usually have "four" functions associated with them.  
The functions are prefixed with a:  

- `d` for density
- `r` for random number generation
- `p` for cumulative distribution
- `q` for quantile function

Working with the *normal* distributions requires using these "four" functions
```{r}
# dnorm(x, mean = 0, sd = 1, log = FALSE)
# pnorm(q, mean = 0, sd = 1, lower.tail = TRUE, log.p = FALSE)
# qnorm(p, mean = 0, sd = 1, lower.tail = TRUE, log.p = FALSE)
# rnorm(n, mean = 0, sd = 1)
```

If <img src="https://render.githubusercontent.com/render/math?math=$\Phi$"> is the *cumulative distribution function* for a standard normal distribution, then `pnorm(q)` = <img src="https://render.githubusercontent.com/render/math?math=$\Phi(q)$"> and `qnorm(p)` = <img src="https://render.githubusercontent.com/render/math?math=$\Phi^{-1}(p)$">  

```{r}
x <- rnorm(10)
x

x <- rnorm(10, 20, 2)
x

summary(x)
```
Setting the random number seed with `set.seed` ensures "reproducibility"  
Always set the random number seed when conducting a simulation!  

#### Normal Random Variables
```{r}
set.seed(1)
rnorm(5)

set.seed(1)
rnorm(5)
rnorm(5)

set.seed(1)
rnorm(5)
rnorm(5)
rnorm(5)
```

#### Poisson Random Variables
```{r}
rpois(10, 1)
rpois(10, 2)
rpois(10, 29)
```

```{r}
# Cumulative distribution
ppois(2, 2) # Pr(x <= 2)
ppois(4, 2) # Pr(x <= 4)
ppois(6, 2) # Pr(x <= 6)
```

## Simulating a Linear Model 

Suppose we want to simulate from the following linear model  

<img src="https://render.githubusercontent.com/render/math?math=$y = \beta_0 + \beta_1 x + \epsilon$">

where <img src="https://render.githubusercontent.com/render/math?math=$\epsilon \sim \mathcal{N}(0, 2^{2})$">.  Assume <img src="https://render.githubusercontent.com/render/math?math=$x \sim \mathcal{N}(0, 1^{2}), \: \beta_0 = 0.5 \: and \: \beta_1 = 2$">.

```{r}

```


## Random Sampling  



# R Profiler  

## Part 1  

## Part 2  



# Quiz  



# Programming Assignment  



# Key Takeaway Functions

- **The str Function**
  - *str()*
  - *gl(levels, repeat)*

- **Simulation**
  - Generating Random Numbers
    - *`<img src="https://render.githubusercontent.com/render/math?math=">`*
    - *rnorm(n, mean = 0, sd = 1)*
    
  
<https://www.stat.cmu.edu/~cshalizi/rmarkdown/#math-in-r-markdown>  
<https://bookdown.org/yihui/rmarkdown/html-document.html#mathjax-equations>  
<https://gist.github.com/a-rodin/fef3f543412d6e1ec5b6cf55bf197d7b>  

  
  